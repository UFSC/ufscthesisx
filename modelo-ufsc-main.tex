%% modelo-ufsc-main.tex
%%
%% Copyright 2017 Evandro Coan
%% Copyright 2012-2016 by abnTeX2 group at http://www.abntex.net.br/
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%% The Current Maintainer of this work is the Evandro Coan.
%%
%% The last Maintainer of this work was the abnTeX2 team, led
%% by Lauro César Araujo. Further information are available on
%% https://www.abntex.net.br/
%%
%% This work consists of a bunch of files. But originally there ware 3 files
%% which are renamed as follows:
%% Renamed the `abntex2-modelo-references.bib` to `modelo-ufsc-references.bib`
%% Renamed the `abntex2-modelo-include-comandos` to `Capitulos\01\CH01.tex`
%% Renamed the `abntex2-modelo-trabalho-academico.tex` to `modelo-ufsc-main.tex`
%%

% ------------------------------------------------------------------------
% ------------------------------------------------------------------------
% abnTeX2: Modelo de Trabalho Academico (tese de doutorado, dissertacao de
% mestrado e trabalhos monograficos em geral) em conformidade com
% ABNT NBR 14724:2011: Informacao e documentacao - Trabalhos academicos -
% Apresentacao
% ------------------------------------------------------------------------
% ------------------------------------------------------------------------

% When disabling packages to find out incompatibilities, comment the line `\debugfalse`
\newif\ifdebug
\debugtrue
% \debugfalse

% To fix the warning `LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right`,
% open the file `D:\User\Documents\latex\texmfs\install\tex\latex\abntex2\abntex2cite.sty` and
% comment out these two lines:
%
% 547: % \renewcommand{\bibcite}[2]{%
% 548: %   \@newl@bel{b}{#1}{\hyper@@link[cite]{}{cite.#1}{#2}}}%
\input{setup/setup}

% Load General Packages
\input{utilities/basic}
\input{utilities/commands}
\input{utilities/programming}

% Thesis settings
%
% Input a empty list of commands when on debug mode
\input{utilities/commands_list}

% ifpackageloaded question
% https://tex.stackexchange.com/questions/70212/ifpackageloaded-question
\makeatletter
\@ifpackageloaded{setup/ufscthesis}
{
    % Informações de dados para CAPA e FOLHA DE ROSTO
    \titulo{Modelo Canônico de TCC, Monografia,  Dissertação, Tese ou Relatório}
    \subtitulo{Pós--Doutorado da UFSC com \abnTeX{}}
    \autor{Nome do Autor}
    \local{Florianópolis, Santa Catarina -- Brasil}
    %\local{Florianópolis}
    \data{\today}
    \orientador{Prof. Dr. Nome do Orientador}
    \coorientador{Prof. Dr. Nome do Coorientador}
    \instituicao{Universidade Federal de Santa Catarina -- UFSC}
    \tipotrabalho{Tese de Doutorado}
    \programa{Programa de Pós--Graduação em Engenharia Elétrica -- PGEEL}
    \centro{Departamento de Engenharia Elétrica e Eletrônica -- EEL}

    % O preambulo deve conter o tipo do trabalho, o objetivo. O nome da instituição e a área de
    % concentração.
    \preambulo{Tese submetida ao Programa de Pós--Graduação em Engenharia Elétrica da Universidade
    Federal de Santa Catarina para a obtenção do Grau de Doutor em Engenharia Elétrica.}

    % Back references translation
    \ifenglish
        \usepackage[hyperpageref]{backref}
    \else
        \@ifpackageloaded{listings}
        {
            % Listing -> Codigo fonte
            \renewcommand{\lstlistingname}{Código--fonte}

            % List of Listings -> Lista de códigos-fonte
            \renewcommand{\lstlistlistingname}{Lista de códigos--fonte}
        }

        % Configurações do pacote backref, paginas com as citações na bibliografia
        \usepackage[brazilian,hyperpageref]{backref}

        % Usado sem a opção hyperpageref de backref
        \renewcommand{\backrefpagesname}{Citado na(s) página(s):~}

        % Texto padrão antes do número das páginas
        \renewcommand{\backref}{}

        % Define os textos da citação
        \renewcommand*{\backrefalt}[4]{
            \ifcase #1 %
                Nenhuma citação no texto.%
            \or
                Citado na página #2.%
            \else
                Citado #1 vezes nas páginas #2.%
            \fi}%
    \fi

    \@ifpackageloaded{definecolor}
    {
        % RGB colors in absolute values from 0 to 255 by using `RGB` tag
        \definecolor{darkblue}{RGB}{26,13,178}

        % Definição de cores, RGB colors in percentage notation by using `rgb` tag
        \definecolor{mygreen}{rgb}{0,0.6,0}
        \definecolor{mygray}{rgb}{0.5,0.5,0.5}
        \definecolor{mymauve}{rgb}{0.58,0,0.82}

        % Configurações de aparência do PDF final
        \definecolor{figcolor}{rgb}{1,0.4,0}  % orange
        \definecolor{tabcolor}{rgb}{1,0.4,0}  % orange
        \definecolor{eqncolor}{rgb}{1,0.4,0}  % orange
        \definecolor{linkcolor}{rgb}{1,0.4,0} % orange
        \definecolor{citecolor}{rgb}{1,0.4,0} % orange
        \definecolor{seccolor}{rgb}{0,0,1}    % blue
        \definecolor{abscolor}{rgb}{0,0,1}    % blue
        \definecolor{titlecolor}{rgb}{0,0,1}  % blue
        \definecolor{biocolor}{rgb}{0,0,1}    % blue

        % Alterando o aspecto da cor azul
        \definecolor{blue}{RGB}{41,5,195}

        % Informações do PDF
        \hypersetup
        {
            % backref,pagebackref=true, % Package hyperref Warning: Option `pagebackref' has already been used
            pdftitle={\@title},
            pdfauthor={Autores},
            pdfsubject={Resumo do artigo},
            pdfcreator={LaTeX with abnTeX2},
            pdfkeywords={abnt}{latex}{UFSC}{abntex2}{tese},
            colorlinks=true, % false: boxed links; true: colored links
            linkcolor=darkblue, % color of internal links
            citecolor=darkgreen, % color of links to bibliography
            filecolor=black, % color of file links
            urlcolor=linkcolor,
            bookmarksdepth=4
        }
    }{}

    % Espaçamentos entre linhas e parágrafos
    %
    % Estilo de capítulos, ver classe para maiores detalhes.Veja outros estilos em:
    % http://www.tex.ac.uk/tex-archive/info/MemoirChapStyles/MemoirChapStyles.pdf
    %
    % \chapterstyle{default}
    % \chapterstyle{pedersen}
    % \chapterstyle{lyhne}
    % \chapterstyle{madsen}
    % \chapterstyle{veelo}
    % \chapterstyle{companion}
    % \chapterstyle{thatcher}
    % \chapterstyle{verville}
    \chapterstyle{VZ14}
    \setlength\beforechapskip{0pt}
    \setlength\midchapskip{15pt}
    \setlength\afterchapskip{15pt}

    % O tamanho do parágrafo é dado por:
    \setlength{\parindent}{1.3cm}

    % Controle do espaçamento entre um parágrafo e outro. Tente também
    % \onelineskip
    \setlength{\parskip}{0.2cm}

    % Compila o índice
    \makeindex

    % Memoir: Warnings “The material used in the headers is too large” w/ accented titles
    % https://tex.stackexchange.com/questions/387293/how-to-change-the-page-layout-with-memoir
    \setheadfoot{14.0pt}{\footskip}
}{}
\makeatother



% Bad Boxes settings
%
% Why Latex is hyphenating some words automatically, but others dont? hyphenmins{22} %left=2, right=2
% https://tex.stackexchange.com/questions/387076/why-latex-is-hyphenating-some-words-automatically-but-others-dont
\makeatletter
\@ifpackagewith{babel}{brazil}{  \renewcommand\brazilhyphenmins{11} }{}
\@ifpackagewith{babel}{english}{ \renewcommand\englishhyphenmins{11} }{}
\@ifpackagewith{babel}{french}{  \renewcommand\frenchhyphenmins{11} }{}

\@ifpackageloaded{url}
{
    % Bad formatting using URLs in bibtex
    % https://tex.stackexchange.com/questions/22888/bad-formatting-using-urls-in-bibtex
    \usepackage{etoolbox}

    % Underfull \hbox in bibliography
    % https://tex.stackexchange.com/questions/10924/underfull-hbox-in-bibliography
    \apptocmd{\thebibliography}{\raggedright}{}{}

    % How to avoid overfull error with url package?
    % See also the `\usepackage{url}` declarationon the file `basic.tex`.
    % Set this to 2mu or 3mu if URL start troubling again.
    % https://tex.stackexchange.com/questions/261776/how-to-avoid-overfull-error-with-url-package
    \Urlmuskip=0mu plus 1mu

    % How to fix URL overfull & underfull on emumeration?
    % https://tex.stackexchange.com/questions/366803/how-to-fix-url-overfull-underfull-on-emumeration
    %
    % Forcing linebreaks in \url
    % https://tex.stackexchange.com/questions/3033/forcing-linebreaks-in-url/10401
    \g@addto@macro{\UrlBreaks}{\UrlOrds}

    % How to fix this url bad box for stackoverflow link?
    % https://tex.stackexchange.com/questions/384427/how-to-fix-this-url-bad-box-for-stackoverflow-link
    \g@addto@macro{\UrlBreaks}
    {%
        \do\/\do\a\do\b\do\c\do\d\do\e\do\f%
        \do\g\do\h\do\i\do\j\do\k\do\l\do\m%
        \do\n\do\o\do\p\do\q\do\r\do\s\do\t%
        \do\u\do\v\do\w\do\x\do\y\do\z%
        \do\A\do\B\do\C\do\D\do\E\do\F\do\G%
        \do\H\do\I\do\J\do\K\do\L\do\M\do\N%
        \do\O\do\P\do\Q\do\R\do\S\do\T\do\U%
        \do\V\do\W\do\X\do\Y\do\Z
    }
}{}
\makeatother

% When writing a large document, it is sometimes useful to work on selected sections of the document
% to speed up compilation time: https://en.wikibooks.org/wiki/TeX/includeonly
% \includeonly{pretexto/agradecimentos}
% \includeonly{pretexto/epigrafe}
% \includeonly{pretexto/fichacatalografica}
% \includeonly{pretexto/folhadeaprovacao}
% \includeonly{pretexto/resumos}
% \includeonly{pretexto/siglas}
% \includeonly{pretexto/simbolos}

% \includeonly{chapters/chapter_1}
% \includeonly{chapters/chapter_2}
% \includeonly{chapters/chapter_3}
% \includeonly{chapters/chapter_4}
% \includeonly{chapters/chapter_5}
% \includeonly{chapters/chapter_6}
% \includeonly{chapters/conclusion}

% \includeonly{postexto/anexo_a}
% \includeonly{postexto/anexo_b}
% \includeonly{postexto/anexo_c}
% \includeonly{postexto/apendice_a}
% \includeonly{postexto/apendice_b}
% \includeonly{postexto/apendice_c}



\begin{document}

% How to display the font size in use in the final output
% https://tex.stackexchange.com/questions/20451/how-to-display-the-font-size-in-use-in-the-final-output
% \makeatletter
% original: \f@size
% \verb+\small+ \small \f@size
% \verb+\normalsize+ \normalsize \f@size
% \verb+\large+ \large \f@size
% \verb+\Huge+ \Huge \f@size
% \makeatother

% Retira espaço extra obsoleto entre as frases `Double space between sentences`
% https://tex.stackexchange.com/questions/4705/double-space-between-sentences
\frenchspacing

\input{pretexto/pretexto}
\input{chapters/chapters}
\input{postexto/postexto}

\end{document}

