%% modelo-ufsc-main.tex
%%
%% Copyright 2017 Evandro Coan
%% Copyright 2012-2016 by abnTeX2 group at http://www.abntex.net.br/
%%
%% This work may be distributed and/or modified under the
%% conditions of the LaTeX Project Public License, either version 1.3
%% of this license or (at your option) any later version.
%% The latest version of this license is in
%%   http://www.latex-project.org/lppl.txt
%% and version 1.3 or later is part of all distributions of LaTeX
%% version 2005/12/01 or later.
%%
%% This work has the LPPL maintenance status `maintained'.
%% The Current Maintainer of this work is the Evandro Coan.
%%
%% The last Maintainer of this work was the abnTeX2 team, led
%% by Lauro César Araujo. Further information are available on
%% https://www.abntex.net.br/
%%
%% This work consists of a bunch of files. But originally there ware 3 files
%% which are renamed as follows:
%% Renamed the `abntex2-modelo-references.bib` to `modelo-ufsc-references.bib`
%% Renamed the `abntex2-modelo-include-comandos` to `Capitulos\01\CH01.tex`
%% Renamed the `abntex2-modelo-trabalho-academico.tex` to `modelo-ufsc-main.tex`
%%

% ------------------------------------------------------------------------
% ------------------------------------------------------------------------
% abnTeX2: Modelo de Trabalho Academico (tese de doutorado, dissertacao de
% mestrado e trabalhos monograficos em geral) em conformidade com
% ABNT NBR 14724:2011: Informacao e documentacao - Trabalhos academicos -
% Apresentacao
% ------------------------------------------------------------------------
% ------------------------------------------------------------------------




% To fix the warning `LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right`,
% open the file `D:\User\Documents\latex\texmfs\install\tex\latex\abntex2\abntex2cite.sty` and
% comment out these two lines:
% 547: % \renewcommand{\bibcite}[2]{%
% 548: %   \@newl@bel{b}{#1}{\hyper@@link[cite]{}{cite.#1}{#2}}}%

% Document local boolean value to control whether or not to print the epigrafe
\providecommand\WriteEpigraphs{true}

% Is it possible to keep my translation together with original text?
% https://tex.stackexchange.com/questions/5076/is-it-possible-to-keep-my-translation-together-with-original-text
\newif\ifenglish
\englishtrue % Will show English text only
%\englishfalse % Will show Portuguese text only

\ifenglish
    % How to make \PassOptionsToPackage add the option as the last option?
    % https://tex.stackexchange.com/questions/385895/how-to-make-passoptionstopackage-add-the-option-as-the-last-option
    \PassOptionsToPackage{brazil,main=english,spanish,french}{babel}
\else
    \PassOptionsToPackage{main=brazil,english,spanish,french}{babel}
\fi

% Fixes `pdfTeX warning (ext4): destination with the same identifier (name{figure.1.1}) has been
% already used, duplicate ignored`.
%
% The `abntex2` package loads the `hyperref` package, however there are several packages which are
% required to be loaded after and before `hyperref`.
%
% Which packages should be loaded after hyperref instead of before?
% https://tex.stackexchange.com/questions/1863/which-packages-should-be-loaded-after-hyperref-instead-of-before
%
% Hyperref is loaded by the class, and I need to load packages that are supposed to be loaded before
% https://tex.stackexchange.com/questions/50846/hyperref-is-loaded-by-the-class-and-i-need-to-load-packages-that-are-supposed-t
%
% Using \BeforePackage to load a package before hyperref does not work
% https://tex.stackexchange.com/questions/51094/using-beforepackage-to-load-a-package-before-hyperref-does-not-work
\RequirePackage{scrlfile}
\AfterClass{memoir}
{
  \RequirePackage{float}
}

% The UFSC font size is 10.5, but memoir embbeded on `abntex2` only accepts 10 and 11pt. However
% this will be fixed later by the abntex2-ufsc package.
%
% You can see whether the font sizes are correct with the \f@size at the `\begin{document}`.
\documentclass[
10pt,
a5paper,
twoside, % Impressão nos dois lados da folha
chapter=TITLE, % Título de capítulos em caixa alta
section=TITLE  % Título de seções em caixa alta
]{abntex2}

% Package hyperref Warning: Token not allowed in a PDF string?
% https://tex.stackexchange.com/questions/384885/package-hyperref-warning-token-not-allowed-in-a-pdf-string
\pdfstringdefDisableCommands{\let\uppercase\relax}

% Citação alfabética por autor-data [alf]
\usepackage[alf]{abntex2cite}

% Load the UFSC thesis settings
\usepackage{abntex2-ufsc}

% Configurações do pacote backref, paginas com as citações na bibliografia
\usepackage[brazilian,hyperpageref]{backref}




% Thesis settings
%
% Informações de dados para CAPA e FOLHA DE ROSTO
\titulo{Modelo Canônico de TCC, Monografia,  Dissertação, Tese ou Relatório de Pós--Doutorado da UFSC com \abnTeX}
\autor{Nome do Autor}
\local{Florianópolis, Santa Catarina -- Brasil}
%\local{Florianópolis}
\data{\today}
\orientador{Prof. Dr. Nome do Orientador}
\coorientador{Prof. Dr. Nome do Coorientador}
\instituicao{%
  Universidade Federal de Santa Catarina -- UFSC
  \par
  Departamento de Engenharia Elétrica e Eletrônica -- EEL
  \par
 Programa de Pós--Graduação em Engenharia Elétrica -- PGEEL}

% O preambulo deve conter o tipo do trabalho, o objetivo. O nome da instituição e a área de
% concentração.
\preambulo{Tese submetida ao Programa de Pós--Graduação em Engenharia Elétrica da Universidade Federal de Santa Catarina para a obtenção do Grau de Doutor em Engenharia Elétrica.}

% Back references translation
\ifenglish
    % The default language for backref is already English
\else
    % Usado sem a opção hyperpageref de backref
    \renewcommand{\backrefpagesname}{Citado na(s) página(s):~}

    % Texto padrão antes do número das páginas
    \renewcommand{\backref}{}

    % Define os textos da citação
    \renewcommand*{\backrefalt}[4]{
        \ifcase #1 %
            Nenhuma citação no texto.%
        \or
            Citado na página #2.%
        \else
            Citado #1 vezes nas páginas #2.%
        \fi}%
\fi

% Configurações de aparência do PDF final
\definecolor{figcolor}{rgb}{1,0.4,0}  % orange
\definecolor{tabcolor}{rgb}{1,0.4,0}  % orange
\definecolor{eqncolor}{rgb}{1,0.4,0}  % orange
\definecolor{linkcolor}{rgb}{1,0.4,0} % orange
\definecolor{citecolor}{rgb}{1,0.4,0} % orange
\definecolor{seccolor}{rgb}{0,0,1}    % blue
\definecolor{abscolor}{rgb}{0,0,1}    % blue
\definecolor{titlecolor}{rgb}{0,0,1}  % blue
\definecolor{biocolor}{rgb}{0,0,1}    % blue

% Alterando o aspecto da cor azul
\definecolor{blue}{RGB}{41,5,195}

% Informações do PDF
\makeatletter
\hypersetup{
    % pagebackref=true, % Package hyperref Warning: Option `pagebackref' has already been used
    pdftitle={\@title},
    pdfauthor={Autores},
    pdfsubject={Resumo do artigo},
    pdfcreator={LaTeX with abnTeX2},
    pdfkeywords={abnt}{latex}{UFSC}{abntex2}{tese},
    colorlinks=true,            % false: boxed links; true: colored links
    linkcolor=linkcolor,        % color of internal links
    citecolor=citecolor,        % color of links to bibliography
    filecolor=black,            % color of file links
    urlcolor=linkcolor,
    bookmarksdepth=4
}
\makeatother




% Espaçamentos entre linhas e parágrafos
%
% Estilo de capítulos, ver classe para maiores detalhes.Veja outros estilos em:
% http://www.tex.ac.uk/tex-archive/info/MemoirChapStyles/MemoirChapStyles.pdf
%
% \chapterstyle{default}
% \chapterstyle{pedersen}
% \chapterstyle{lyhne}
% \chapterstyle{madsen}
% \chapterstyle{veelo}
% \chapterstyle{companion}
% \chapterstyle{thatcher}
% \chapterstyle{verville}
\chapterstyle{VZ14}
\setlength\beforechapskip{0pt}
\setlength\midchapskip{15pt}
\setlength\afterchapskip{15pt}

% O tamanho do parágrafo é dado por:
\setlength{\parindent}{1.3cm}

% Controle do espaçamento entre um parágrafo e outro. Tente também
% \onelineskip
\setlength{\parskip}{0.2cm}

% Compila o índice
\makeindex

% Memoir : Warnings “The material used in the headers is too large” w/ accented titles
% https://tex.stackexchange.com/questions/310493/memoir-warnings-the-material-used-in-the-headers-is-too-large-w-accented-ti
\setlength{\headheight}{14.0pt}




% When writing a large document, it is sometimes useful to work on selected sections of the document
% to speed up compilation time: https://en.wikibooks.org/wiki/TeX/includeonly
%
%\includeonly{PreTexto/fichacatalografica}
%\includeonly{PreTexto/agradecimentos}
%\includeonly{PreTexto/resumos}
%\includeonly{PreTexto/siglas}
%\includeonly{PreTexto/simbolos}
%
%\includeonly{Capitulos/00/CH00}
%\includeonly{Capitulos/01/CH01}
%\includeonly{Capitulos/02/CH02}
%\includeonly{Capitulos/03/CH03}
%\includeonly{Capitulos/04/CH04}

\begin{document}

% pdfTeX warning (ext4): destination with the same identifier (nam e{page.1}) has been already used, duplicate ignored
% https://tex.stackexchange.com/questions/18924/pdftex-warning-ext4-destination-with-the-same-identifier-nam-epage-1-has
\hypersetup{pageanchor=false}

% How to display the font size in use in the final output
% https://tex.stackexchange.com/questions/20451/how-to-display-the-font-size-in-use-in-the-final-output
% \makeatletter
% original: \f@size
% \verb+\small+ \small \f@size
% \verb+\normalsize+ \normalsize \f@size
% \verb+\large+ \large \f@size
% \verb+\Huge+ \Huge \f@size
% \makeatother

% Retira espaço extra obsoleto entre as frases.
\frenchspacing




% ELEMENTOS PRÉ-TEXTUAIS
\includepdf{Imagens/FrenteCapaUFSC.pdf}%

\pretextual

% Capa
\imprimircapa

% Folha de rosto (o * indica que haverá a ficha bibliográfica)
\imprimirfolhaderosto*

% Inserir a ficha bibliografica
%
% Isto é um exemplo de Ficha Catalográfica, ou ``Dados internacionais de
% catalogação-na-publicação''. Você pode utilizar este modelo como referência.
% Porém, provavelmente a biblioteca da sua universidade lhe fornecerá um PDF
% com a ficha catalográfica definitiva após a defesa do trabalho. Quando estiver
% com o documento, salve-o como PDF no diretório do seu projeto e substitua todo
% o conteúdo de implementação deste arquivo pelo comando abaixo:
%
% \begin{fichacatalografica}
%    \includepdf{PreTexto/ficha_catalografica.pdf}
% \end{fichacatalografica}
\include{PreTexto/fichacatalografica}

% Inserir errata

% Inserir folha de aprovação

% Isto é um exemplo de Folha de aprovação, elemento obrigatório da NBR
% 14724/2011 (seção 4.2.1.3). Você pode utilizar este modelo até a aprovação
% do trabalho. Após isso, substitua todo o conteúdo deste arquivo por uma
% imagem da página assinada pela banca com o comando abaixo:
% \includepdf{folhadeaprovacao_final.pdf}
\include{PreTexto/folhadeaprovacao}

% Dedicatória
\begin{dedicatoria}
    \vspace*{\fill}
    \centering
    \noindent
    \textit{ Este trabalho é dedicado às crianças adultas que,\\
        quando pequenas, sonharam em se tornar cientistas.} \vspace*{\fill}
\end{dedicatoria}

% Agradecimentos
\include{PreTexto/agradecimentos}

% Epígrafe
\ifthenelse{ \equal{\WriteEpigraphs}{true} }{
\begin{epigrafe}

    \vspace*{\fill}
    \begin{flushright}
        \textit{``Assim como aquele pecado da juventude, este documento te perseguirá pelo resto da vida.''}\\Enio Valmor Kassick
    \end{flushright}
    \begin{flushright}
        \textit{``Estupidez trará mais autoconfiança do que o conhecimento e a bravura juntas.''}\\
        Adriano Ruseler
    \end{flushright}
    \begin{flushright}
        \textit{``Learn from yesterday, live for today, hope for tomorrow. The important thing is not to stop questioning.''}\\ Albert Einstein
    \end{flushright}
    \begin{flushright}
        \textit{``The true sign of intelligence is not knowledge but imagination.''}\\  Albert Einstein
    \end{flushright}
    \begin{flushright}
        \textit{``Peace cannot be kept by force; it can only be achieved by understanding.''}\\ Albert Einstein
    \end{flushright}
    \begin{flushright}
        \textit{``Whoever is careless with the truth in small matters cannot be trusted with important matters.''}\\    Albert Einstein
    \end{flushright}
    \begin{flushright}
        \textit{``Extraordinary claims require extraordinary evidence''}\\
        Carl Sagan
    \end{flushright}
    \begin{flushright}
        \textit{``Catholic, which I was until I reached the age of reason.''}\\
        George Carlin
    \end{flushright}
    \begin{flushright}
        \textit{``We made too many wrong mistakes.''}\\
        Yogi Berra
    \end{flushright}

\end{epigrafe}
}{
    % do something different..
}

% RESUMOS
%
% Ajusta o espaçamento dos parágrafos do resumo
\setlength{\absparsep}{18pt}
\include{PreTexto/resumos}

% inserir lista de ilustrações
\pdfbookmark[0]{\listfigurename}{lof}
\listoffigures*
\cleardoublepage

% inserir lista de tabelas
\pdfbookmark[0]{\listtablename}{lot}
\listoftables*
\cleardoublepage

% inserir códigos fonte
% ---
\pdfbookmark[0]{\lstlistingname}{lol}
\lstlistoflistings*
\cleardoublepage

% inserir lista de abreviaturas e siglas
\include{PreTexto/siglas}

% Inserir lista de símbolos
\include{PreTexto/simbolos}

% Inserir o sumario
\pdfbookmark[0]{\contentsname}{toc}
\tableofcontents*
\cleardoublepage

% warning: destination with same identifier has been already used, duplicate ignored
% https://tex.stackexchange.com/questions/13083/pdftex-warning-destination-with-same-identifier-has-been-already-used-duplicat
\hypersetup{pageanchor=true}





% ELEMENTOS TEXTUAIS
%
% Configura estilo das páginas.
\textual

\setlength\beforechapskip{50pt}
\setlength\midchapskip{20pt}
\setlength\afterchapskip{20pt}

% Configura estilo das páginas com logos
% \textualINEPUFSC

% Introdução (exemplo de capítulo sem numeração, mas presente no Sumário)
\include{Capitulos/00/CH00}

% PARTE
% \part{Preparação da pesquisa}

% Capitulo com exemplos de comandos inseridos de arquivo externo
\include{Capitulos/01/CH01}

% PARTE
% \part{Referenciais teóricos}

% Capitulo de revisão de literatura
% \include{Capitulos/02/CH02}

% PARTE
% \part{Resultados}

% Primeiro capitulo de Resultados
% \include{Capitulos/03/CH03}

% Segundo capitulo de Resultados
%\include{Capitulos/04/CH04}

% Finaliza a parte no bookmark do PDF
% para que se inicie o bookmark na raiz
% e adiciona espaço de parte no Sumário
\phantompart

% Conclusão (outro exemplo de capítulo sem numeração e presente no sumário)
\include{Capitulos/Concl/Concl}




% ELEMENTOS PÓS-TEXTUAIS
\postextual
\setlength\beforechapskip{0pt}
\setlength\midchapskip{15pt}
\setlength\afterchapskip{15pt}

% Referências bibliográficas
\bibliography{modelo-ufsc-references}

% Glossário, consulte o manual da classe abntex2 para orientações sobre o glossário.
% \glossary

% Apêndices, inicia os apêndices
\begin{apendicesenv}

    % Imprime uma página indicando o início dos apêndices
    \partapendices

    \setlength\beforechapskip{50pt}
    \setlength\midchapskip{20pt}
    \setlength\afterchapskip{20pt}

    \include{Apendices/A/APA}
    % \include{Apendices/B/APB}
    % \include{Apendices/C/APC}

\end{apendicesenv}

% Anexos, inicia os anexos
\begin{anexosenv}

    % Imprime uma página indicando o início dos anexos
    \partanexos

    \setlength\beforechapskip{50pt}
    \setlength\midchapskip{20pt}
    \setlength\afterchapskip{20pt}

    \include{Anexos/A/ANA}
    % \include{Anexos/B/ANB}
    % \include{Anexos/C/ANC}

\end{anexosenv}

% INDICE REMISSIVO
\phantompart
\printindex

\end{document}

