
%
% Monograph LaTeX Template based on:
%
% 1. https://github.com/royertiago/tcc
% 2. http://portal.bu.ufsc.br/normalizacao/
% 3. https://github.com/AdrianoRuseler/abntex2-ufsc
%


% Uncomment the line `\englishtrue` to set the document default language to english.
%
% Is it possible to keep my translation together with original text?
% https://tex.stackexchange.com/questions/5076/is-it-possible-to-keep-my-translation-together-with-original-text
\newif\ifenglish\englishfalse
% \englishtrue

% How to expand \ifthenelse so that it can be used in \parshape?
% https://tex.stackexchange.com/questions/131002/how-to-expand-ifthenelse-so-that-it-can-be-used-in-parshape
\newcommand{\chooselang}[2]{\ifenglish#1\else#2\fi}

% How to make \PassOptionsToPackage add the option as the last option?
% https://tex.stackexchange.com/questions/385895/how-to-make-passoptionstopackage-add-the-option-as-the-last
\ifenglish
    \newcommand{\swapcontents}[2]{#1 #2}

    \PassOptionsToPackage{language=english}{biblatex}
    \PassOptionsToPackage{brazil,main=english,spanish,french}{babel}
\else
    \newcommand{\swapcontents}[2]{#2 #1}

    \PassOptionsToPackage{language=brazil}{biblatex}
    \PassOptionsToPackage{main=brazil,english,spanish,french}{babel}
\fi


% You need to run `pdfTeX` 5 times on the following order: 1. `pdfTeX`, 2. `bibtex`, 3. `pdfTeX`
% 4. `pdfTeX` 5. `pdfTeX` 6. `pdfTeX`, because the bibliography includes a cyclic reference to
% bibliography, so we need a last pass to fix the bibliography undefined references.
%
% Fix recurring LaTeX Warning
% https://github.com/abntex/abntex2/pull/189
%
% To fix the warning `LaTeX Warning: Label(s) may have changed. Rerun to get cross-references right`,
% open the file `D:\User\Documents\latex\texmfs\install\tex\latex\abntex2\abntex2cite.sty` and
% comment out these two lines:
% 547: % \renewcommand{\bibcite}[2]{%
% 548: %   \@newl@bel{b}{#1}{\hyper@@link[cite]{}{cite.#1}{#2}}}%
\input{setup/setup}

% Load the UFSC thesis settings
\usepackage{setup/ufscthesisx}

% Load all required basic packages
\input{utilities/utilities}



%----------------------------------------------------------------------------------------
%   File settings
%----------------------------------------------------------------------------------------

% Print page margins of a document
% https://tex.stackexchange.com/questions/14508/print-page-margins-of-a-document
% \usepackage[showframe,pass]{geometry}

% para melhorias de justificação
\usepackage{microtype}

% Thesis settings
\input{settings}
\addbibresource{modeloreferences.bib}

% When writing a large document, it is sometimes useful to work on selected sections of the document
% to speed up compilation time: https://en.wikibooks.org/wiki/TeX/includeonly
\newif\ifforcedinclude\forcedincludefalse
% \forcedincludetrue

% \addtoincludeonly{pretexto/agradecimentos}
% \addtoincludeonly{pretexto/epigrafe}
% \addtoincludeonly{pretexto/fichacatalografica}
% \addtoincludeonly{pretexto/folhadeaprovacao}
% \addtoincludeonly{pretexto/resumos}
% \addtoincludeonly{pretexto/siglas}
% \addtoincludeonly{pretexto/simbolos}

% \addtoincludeonly{chapters/chapter_1}
% \addtoincludeonly{chapters/chapter_2}
% \addtoincludeonly{chapters/chapter_3}
% \addtoincludeonly{chapters/chapter_4}
% \addtoincludeonly{chapters/chapter_5}
% \addtoincludeonly{chapters/chapter_6}
% \addtoincludeonly{chapters/conclusion}

% \addtoincludeonly{postexto/anexo_a}
% \addtoincludeonly{postexto/anexo_b}
% \addtoincludeonly{postexto/apendice_a}



% %----------------------------------------------------------------------------------------
% %   DOCUMENT CONTENTS
% %----------------------------------------------------------------------------------------
\doincludeonly
\begin{document}

    % Comment this after finishing the thesis, so you can start fixing the \flushbottom vs \raggedbottom
    % https://tex.stackexchange.com/questions/65355/flushbottom-vs-raggedbottom
    \raggedbottom

    % Retira espaço extra obsoleto entre as frases `Double space between sentences`
    % https://tex.stackexchange.com/questions/4705/double-space-between-sentences
    \frenchspacing

    \input{pretexto/pretexto}



    % ELEMENTOS TEXTUAIS
    %
    % Configura estilo das páginas.
    \textual

    % To automatically put a [Go To Top/Back] ←← | ← on each section
    \addGoToSummary

    \setlength\beforechapskip{50pt}
    \setlength\midchapskip{20pt}
    \setlength\afterchapskip{20pt}

    % Introdução (exemplo de capítulo sem numeração, mas presente no Sumário)
    \include{chapters/chapter_1}

    % PARTE
    \ifforcedinclude\else\part{Preparação da pesquisa}\fi

    % Capitulo com exemplos de comandos inseridos de arquivo externo
    \include{chapters/chapter_2}

    % PARTE
    \ifforcedinclude\else\part{Referenciais teóricos}\fi

    % Capitulo de revisão de literatura
    \include{chapters/chapter_3}

    % PARTE
    \ifforcedinclude\else\part{Resultados}\fi

    % Primeiro capitulo de Resultados
    \include{chapters/chapter_4}

    % Segundo capitulo de Resultados
    \include{chapters/chapter_5}

    % Terceiro capitulo de Resultados
    \include{chapters/chapter_6}

    % Finaliza a parte no bookmark do PDF
    % para que se inicie o bookmark na raiz
    % e adiciona espaço de parte no Sumário
    \phantompart

    % Conclusão (outro exemplo de capítulo sem numeração e presente no sumário)
    \include{chapters/conclusion}



    % ELEMENTOS PÓS-TEXTUAIS
    %
    \postextual
    \setlength\beforechapskip{0pt}
    \setlength\midchapskip{15pt}
    \setlength\afterchapskip{15pt}

    % Referências bibliográficas
    \begingroup
        % Using BibTeX to make a list of references without having citations in the body of the document?
        % https://tex.stackexchange.com/questions/17128/using-bibtex-to-make-a-list-of-references-without
        % \nocite{*}

        % How to modify line spacing per entry of bibliography?
        % https://tex.stackexchange.com/questions/163559/how-to-modify-line-spacing-per-entry-of-bibliography
        \linespread{1.18}\selectfont
        \printbibliography
    \endgroup

    % Glossário, consulte o manual da classe abntex2 para orientações sobre o glossário.
    % \ifforcedinclude\else\glossary\fi

    % Apêndices, inicia os apêndices
    \ifforcedinclude\else\begin{apendicesenv}
        % Imprime uma página indicando o início dos apêndices
        \partapendices

        \setlength\beforechapskip{50pt}
        \setlength\midchapskip{20pt}
        \setlength\afterchapskip{20pt}

        \include{postexto/apendice_a}
    \end{apendicesenv}\fi

    % Anexos, inicia os anexos
    \ifforcedinclude\else\begin{anexosenv}
        % Imprime uma página indicando o início dos anexos
        \partanexos

        \setlength\beforechapskip{50pt}
        \setlength\midchapskip{20pt}
        \setlength\afterchapskip{20pt}

        \include{postexto/anexo_a}
        \include{postexto/anexo_b}
    \end{anexosenv}\fi

    % INDICE REMISSIVO
    \ifforcedinclude\else
        \phantompart
        \printindex
    \fi

\end{document}

